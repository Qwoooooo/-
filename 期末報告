# 期末報告

## 強大的 WEB 安全測試工具


![Burp Suite](https://miro.medium.com/max/462/1*FhcCd_K_IiFpaoQIy6C66w.png)

Burp Suite，或者常簡稱Burp，
是一款用於web安全測試的強大工具，
如果有安裝Kali Linux，或是未來打算安裝Kali的，
可以注意到桌面左側快速啟動圖示裡面其中一個就是Burp，
我想這也算是足以證明它好用又強大的證據之一。

------------

## Burp Suite功能概要
(以下參考維基百科)

- Proxy: 使Burp作為Web proxy運行，並且位於瀏覽器和目標 Web server之間，可以利用這種方式從Burp攔截、檢查和修改在兩個方向上通過的HTTP內容。
- Scanner: Web 應用程式安全掃描器，用於執行 Web 應用程式的自動漏洞掃描。
- Intruder: 可以利用Intruder進行暴力破解攻擊。也可以檢測 SQL Injection、XSS等等漏洞。
- Spider: 網站爬蟲，自動抓取 Web 應用程式的工具，可以幫助你建立網站Map。
- Repeater: 可以用來手動測試HTTP Request的簡單功能，可以修改Request內容的請求，重新發送並觀察結果。
- Decoder: 將已編碼的數據轉換為其規範形式，或將原始數據轉換為各種編碼和散列形式的工具。
- Comparer: 在任意兩個數據項之間執行比較（一個可視化的「差異」）的工具。
- Extender: 允許加載 Burp 擴展，使用安全測試人員自己的或第三方代碼（BAppStore）擴展 Burp 的功能
- Sequencer: 分析數據項樣本隨機性的工具。它可以用於測試應用程式的會話令牌或其他重要的數據項，如反 CSRF 令牌、密碼重置令牌等。

------------


## 使用 Burp 代理攔截 HTTP 流量
### 攔截請求
Burp Proxy允許攔截在 Burp 的瀏覽器和目標服務器之間發送的 HTTP 請求和響應。這能夠研究網站在執行不同操作時的行為方式。

### 第 1 步：啟動 Burp 的瀏覽器
轉到**Proxy > Intercept**。

單擊**Intercept is off**按鈕，因此它切換到**Intercept is on**。
單擊打開瀏覽器。這將啟動 Burp 的瀏覽器，該瀏覽器已預先配置為可以直接與 Burp 一起使用。

定位窗口，以便可以看到 Burp 和 Burp 的瀏覽器。

------------


### 第 2 步：攔截請求
使用 Burp 的瀏覽器，嘗試訪問網站並觀察該站。Burp 代理在瀏覽器到達服務器之前攔截了瀏覽器發出的 HTTP 請求。可以在**Proxy > Intercept**選項上看到這個被攔截的請求。
請求被保存在這裡，以便可以在將其轉發到目標服務器之前對其進行研究，甚至對其進行修改。

------------


### 第 3 步：轉發請求
多次點擊“**FORWARD**”按鈕以發送請求以及任何後續請求，直到頁面加載到 Burp 的瀏覽器中。

------------


### 第 4 步：關閉攔截
由於瀏覽器通常發送的請求數量，通常不想攔截每一個請求。單擊**Intercept is on**按鈕，現在它會顯示 **Intercept is off**。
返回瀏覽器並確認現在正常。

------------


### 第 5 步：查看 HTTP 歷史記錄
在 Burp 中，轉到**Proxy > HTTP history**選項。在這裡，可以看到通過 Burp 代理的所有 HTTP 流量的歷史記錄，即使在攔截被關閉時也是如此。

單擊歷史記錄中的任何條目以查看原始 HTTP 請求以及來自服務器的相應。

這可以正常瀏覽網站，然後研究 Burp 的瀏覽器與服務器之間的關係。

------------

## 使用 Burp 代理修改 HTTP 請求
學習如何在 Burp Proxy 中修改攔截的請求。這能夠以網站未預料到的方式操縱請求，以查看其響應方式。使用我們故意易受攻擊的網站之一，稱為“實驗室”，了解它如何幫助您識別和利用真正的漏洞。

#### 網絡安全學院
要繼續進行操作，需要一個[portswigger.net](http://portswigger.net "portswigger.net"). 如果還沒有，註冊是免費的，它可以訪問網絡安全學院。

------------


### 第 1 步：在 Burp 的瀏覽器中訪問易受攻擊的網站
在 Burp 中，轉到**Proxy > Intercept**選項卡並確保攔截已關閉。

啟動 Burp 的瀏覽器並使用它訪問以下 URL：

https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-excessive-trust-in-client-side-controls

頁面加載後，單擊訪問實驗室。如果出現提示，請登錄 [portswigger.net](http://portswigger.net "portswigger.net") 帳戶。幾秒鐘後，將看到自己的虛假購物網站實例。

**打開網站需使用Burp 的瀏覽器喔!**

------------


### 第 2 步：登錄您的購物賬戶
在購物網站上，單擊我的帳戶並使用以下憑據登錄：

**用戶名：wiener**

**密碼：peter**

請注意，只有 100 美元的$$$。

------------


### 第 3 步：找東西買
單擊主頁返回主頁。選擇該選項以查看**Lightweight "l33t" leather jacket**.

------------


### 第 4 步：研究添加到購物車功能
在 Burp 中，轉到**Proxy > Intercept**並打開攔截。在瀏覽器中，將皮夾克添加到您的購物車以攔截生成的 **POST /cart**請求。

#### 筆記
如果瀏覽器在後台執行其他操作， 最初可能會在**Proxy > Intercept**選項卡上看到不同的請求。在這種情況下，只需單擊“**FORWARD**”，直到看到**POST /cart**上面屏幕截圖中顯示的請求。

------------


### 第 5 步：修改請求
將該參數的值更改**price**為**1**，然後單擊“**FORWARD**”將修改後的請求發送到服務器。
再次關閉攔截，以便任何後續請求都可以不間斷地通過 Burp Proxy。

------------


### 第 6 步：利用漏洞
在 Burp 的瀏覽器中，單擊右上角的購物籃圖標以查看您的購物車。**請注意，這件夾克只花了一美分**。

#### 筆記
無法通過 Web 界面修改價格。多虧了 Burp Proxy，您才能進行此更改。
單擊“下訂單”按鈕以極其合理的價格購買夾克。

------------

## 心得
這次使用的Burp Suite，真的很方便，也很好安裝，修改購物車裡商品金額的這個測試，還蠻有趣的，之後會再看看有沒有其他好玩的測試。

